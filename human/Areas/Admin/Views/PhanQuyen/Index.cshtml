@using human.Models;
@model IEnumerable<User_level>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayout.cshtml";
    WebGrid grid = new WebGrid(source: Model, rowsPerPage: 10);
}

<h2 style="font-weight:bold;text-align:center">Phân Quyền</h2>
<div class="form-group">
    <div>
        @Html.ActionLink("Thêm", "Insert", "PhanQuyen", new { @class= "btn btn-success" })
    </div>
</div>

@*@grid.GetHtml(
    tableStyle: "table table-bordered table-condensed table-responsive",
            headerStyle: "gridHead",
            footerStyle: "gridHead",
            rowStyle: "gridRow",
            alternatingRowStyle: "gridAlter",
            columns: grid.Columns(
                         grid.Column("id", "STT"),
                         grid.Column("name", "Quyền Hạn"),
                        grid.Column("Chỉnh Sửa Quyền Hạn", format: p => @Html.ActionLink("Sửa", "ChinhSuaPhanQuyen", new { @id = p.id }, new { @class = "btn btn-danger" })),
                       grid.Column("Xóa Quyền Hạn", format: p => Ajax.ActionLink("Xóa", "Delete", new { @id = p.@id }, new { @class = "btn btn-default" }))
                       //grid.Column("Xóa Quyền Hạn", format: p => @Html.ActionLink("Xóa", "Delete","PhanQuyen", new { @id = p.@id }, new { @class = "btn btn-default" }))
                        )
    )*@
<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>Quyền Hạn</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {
                <tr id="row_@item.id">
                    <td>@item.name</td>
                    <td>
                        <a href="/Admin/PhanQuyen/Edit/@item.id">Sửa</a>
                        |
                        @Ajax.ActionLink("Xóa","Delete", new { @id=item.id}, new AjaxOptions
                       {
                           Confirm = "Bạn có muốn xóa bản ghi này?",
                           OnComplete = "$('#row_" + @item.id + "').remove()",
                           HttpMethod = "Delete"
                       })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>